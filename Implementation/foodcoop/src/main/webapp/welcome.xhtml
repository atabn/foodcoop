<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    template="/cooptemplate.xhtml"
    xmlns:util="http://java.sun.com/jsf/composite/util"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:define name="title">
        Home
    </ui:define>

    <ui:define name="body">
        <h:form>
            <h2 class="ahmet">Welcome to Boun Foodcoop!</h2> <br />
            <c:choose id="wlcmsg">
                <c:when test="#{memberController.logged == false}">
                     <h4>If you are a new customer please <h:commandLink action="signup.xhtml" value="sign up" /></h4> 
                </c:when>
            </c:choose>
            <br />

            <h2>Announcements</h2> <br />
            <c:choose id="wlcmsg">
                <c:when test="#{not empty announcementBean.findAllAnnouncements()}">
                    <h:dataTable value="#{announcementBean.findAllAnnouncements()}" var="ann" border="0" cellpadding="2" cellspacing="0" rowClasses="jsfcrud_odd_row,jsfcrud_even_row" rules="all" >
                        <h:column>
                            <h:outputText value="#{ann.dateOfCreation}">
                                 <f:convertDateTime pattern="dd.MM.yyyy" />
                            </h:outputText>
                        </h:column>
                        <h:column>
                            <h:outputText value="#{ann.text}"/>
                        </h:column>
                    </h:dataTable>
                </c:when>
                <c:otherwise>
                    <p>None yet!</p>
                </c:otherwise>
            </c:choose>
            
        </h:form>
    </ui:define> 

</ui:composition>
